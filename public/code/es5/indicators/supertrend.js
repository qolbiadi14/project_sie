!/**
 * Highstock JS v12.0.1 (2024-11-28)
 * @module highcharts/indicators/supertrend
 * @requires highcharts
 * @requires highcharts/modules/stock
 *
 * Indicator series type for Highcharts Stock
 *
 * (c) 2010-2024 Wojciech Chmiel
 *
 * License: www.highcharts.com/license
 */function(o,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("highcharts"),require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/supertrend",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"]],t):"object"==typeof exports?exports["highcharts/supertrend"]=t(require("highcharts"),require("highcharts").SeriesRegistry):o.Highcharts=t(o.Highcharts,o.Highcharts.SeriesRegistry)}(this,function(o,t){return function(){"use strict";var e,r={512:function(o){o.exports=t},944:function(t){t.exports=o}},n={};function i(o){var t=n[o];if(void 0!==t)return t.exports;var e=n[o]={exports:{}};return r[o](e,e.exports,i),e.exports}i.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(t,{a:t}),t},i.d=function(o,t){for(var e in t)i.o(t,e)&&!i.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})},i.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)};var l={};i.d(l,{default:function(){return O}});var s=i(944),p=/*#__PURE__*/i.n(s),c=i(512),a=/*#__PURE__*/i.n(c),u=(e=function(o,t){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])})(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=a().seriesTypes,d=h.atr,f=h.sma,g=p().addEvent,y=p().correctFloat,x=p().isArray,m=p().isNumber,C=p().extend,v=p().merge,T=p().objectEach;function b(o,t){return{index:t,close:o.getColumn("close")[t],x:o.getColumn("x")[t]}}var S=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return u(t,o),t.prototype.init=function(){var t=this;o.prototype.init.apply(t,arguments);var e=g(this.chart.constructor,"afterLinkSeries",function(){if(t.options){var o=t.options,r=t.linkedParent.options;o.cropThreshold=r.cropThreshold-(o.params.period-1)}e()},{order:1})},t.prototype.drawGraph=function(){for(var o,t,e,r,n,i,l,s,p,c=this,a=c.options,u=c.linkedParent,h=u.getColumn("x"),d=u?u.points:[],g=c.points,y=c.graph,x=d.length-g.length,C=x>0?x:0,S={options:{gapSize:a.gapSize}},O={top:[],bottom:[],intersect:[]},_={top:{styles:{lineWidth:a.lineWidth,lineColor:a.fallingTrendColor||a.color,dashStyle:a.dashStyle}},bottom:{styles:{lineWidth:a.lineWidth,lineColor:a.risingTrendColor||a.color,dashStyle:a.dashStyle}},intersect:a.changeTrendLine},j=g.length;j--;)o=g[j],t=g[j-1],e=d[j-1+C],r=d[j-2+C],n=d[j+C],i=d[j+C+1],l=o.options.color,s={x:o.x,plotX:o.plotX,plotY:o.plotY,isNull:!1},!r&&e&&m(h[e.index-1])&&(r=b(u,e.index-1)),!i&&n&&m(h[n.index+1])&&(i=b(u,n.index+1)),!e&&r&&m(h[r.index+1])?e=b(u,r.index+1):!e&&n&&m(h[n.index-1])&&(e=b(u,n.index-1)),o&&e&&n&&r&&o.x!==e.x&&(o.x===n.x?(r=e,e=n):o.x===r.x?(e=r,r={close:u.getColumn("close")[e.index-1],x:h[e.index-1]}):i&&o.x===i.x&&(e=i,r=n)),t&&r&&e?(p={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},o.y>=e.close&&t.y>=r.close?(o.color=l||a.fallingTrendColor||a.color,O.top.push(s)):o.y<e.close&&t.y<r.close?(o.color=l||a.risingTrendColor||a.color,O.bottom.push(s)):(O.intersect.push(s),O.intersect.push(p),O.intersect.push(v(p,{isNull:!0})),o.y>=e.close&&t.y<r.close?(o.color=l||a.fallingTrendColor||a.color,t.color=l||a.risingTrendColor||a.color,O.top.push(s),O.top.push(v(p,{isNull:!0}))):o.y<e.close&&t.y>=r.close&&(o.color=l||a.risingTrendColor||a.color,t.color=l||a.fallingTrendColor||a.color,O.bottom.push(s),O.bottom.push(v(p,{isNull:!0}))))):e&&(o.y>=e.close?(o.color=l||a.fallingTrendColor||a.color,O.top.push(s)):(o.color=l||a.risingTrendColor||a.color,O.bottom.push(s)));T(O,function(o,t){c.points=o,c.options=v(_[t].styles,S),c.graph=c["graph"+t+"Line"],f.prototype.drawGraph.call(c),c["graph"+t+"Line"]=c.graph}),c.points=g,c.options=a,c.graph=y},t.prototype.getValues=function(o,t){var e,r,n,i,l,s,p,c,a,u=t.period,h=t.multiplier,f=o.xData,g=o.yData,m=[],C=[],v=[],T=0===u?0:u-1,b=[],S=[],O=[];if(!(f.length<=u)&&x(g[0])&&4===g[0].length&&!(u<0)){for(a=0,O=d.prototype.getValues.call(this,o,{period:u}).yData;a<O.length;a++)c=g[T+a],p=g[T+a-1]||[],i=b[a-1],l=S[a-1],s=v[a-1],0===a&&(i=l=s=0),e=y((c[1]+c[2])/2+h*O[a]),r=y((c[1]+c[2])/2-h*O[a]),e<i||p[3]>i?b[a]=e:b[a]=i,r>l||p[3]<l?S[a]=r:S[a]=l,s===i&&c[3]<b[a]||s===l&&c[3]<S[a]?n=b[a]:(s===i&&c[3]>b[a]||s===l&&c[3]>S[a])&&(n=S[a]),m.push([f[T+a],n]),C.push(f[T+a]),v.push(n);return{values:m,xData:C,yData:v}}},t.defaultOptions=v(f.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),t}(f);C(S.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),a().registerSeriesType("supertrend",S);var O=p();return l.default}()});